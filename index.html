<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="chatgpt-wrapper"></div>
<script>
// Crear estilos dentro del wrapper
(function () {
  const style = document.createElement("style");
  style.textContent = `
    #chatgpt-wrapper {
      width: 100%;
      height: 100vh;
      overflow: hidden;
      position: relative;
      background-color: black;
      touch-action: none;
    }
    .chatgpt-planet-label {
      position: absolute;
      color: white;
      font-size: 12px;
      pointer-events: none;
    }
    .chatgpt-modal {
      position: absolute;
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 10px;
      border-radius: 8px;
      font-size: 12px;
      display: none;
      z-index: 10;
      max-width: 200px;
    }
    .chatgpt-controls {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(255,255,255,0.1);
      padding: 10px;
      border-radius: 8px;
      color: white;
      font-size: 12px;
      z-index: 20;
    }
    .chatgpt-controls button, .chatgpt-controls input {
      display: block;
      margin: 5px 0;
      width: 100%;
    }
  `;
  document.getElementById("chatgpt-wrapper").appendChild(style);
})();

// Configuraci√≥n inicial
(function () {
  const wrapper = document.getElementById("chatgpt-wrapper");
  const canvas = document.createElement("canvas");
  canvas.width = wrapper.clientWidth;
  canvas.height = wrapper.clientHeight;
  wrapper.appendChild(canvas);
  const ctx = canvas.getContext("2d");

  let scale = 1, offsetX = 0, offsetY = 0;
  let dragging = false, paused = false;
  let showLabels = true, showOrbits = true;
  let dragStart = {};
  let speedMultiplier = 1;

  const modal = document.createElement("div");
  modal.className = "chatgpt-modal";
  wrapper.appendChild(modal);

  const controls = document.createElement("div");
  controls.className = "chatgpt-controls";
  controls.innerHTML = `
    <button id="chatgpt-toggle">‚è∏ Pausar</button>
    <button id="chatgpt-labels">üî§ Ocultar nombres</button>
    <button id="chatgpt-orbits">‚≠ï Ocultar √≥rbitas</button>
    <label>Velocidad <input id="chatgpt-speed" type="range" min="0.1" max="5" step="0.1" value="1"></label>
  `;
  wrapper.appendChild(controls);

  document.getElementById("chatgpt-toggle").onclick = () => {
    paused = !paused;
    document.getElementById("chatgpt-toggle").textContent = paused ? "‚ñ∂ Reanudar" : "‚è∏ Pausar";
  };
  document.getElementById("chatgpt-labels").onclick = () => {
    showLabels = !showLabels;
    document.getElementById("chatgpt-labels").textContent = showLabels ? "üî§ Ocultar nombres" : "üî§ Mostrar nombres";
  };
  document.getElementById("chatgpt-orbits").onclick = () => {
    showOrbits = !showOrbits;
    document.getElementById("chatgpt-orbits").textContent = showOrbits ? "‚≠ï Ocultar √≥rbitas" : "‚≠ï Mostrar √≥rbitas";
  };
  document.getElementById("chatgpt-speed").oninput = (e) => speedMultiplier = parseFloat(e.target.value);

  const planets = [
    { name: "Mercurio", color: "#b1b1b1", r: 3, dist: 30, speed: 0.04, angle: 0, info: "Masa: 3.3e23 kg\nDi√°metro: 4879 km\nGravedad: 3.7 m/s¬≤\nTemp: 167¬∞C" },
    { name: "Venus", color: "#eccc9a", r: 4, dist: 50, speed: 0.015, angle: 0, info: "Masa: 4.87e24 kg\nDi√°metro: 12104 km\nGravedad: 8.87 m/s¬≤\nTemp: 464¬∞C" },
    { name: "Tierra", color: "#3fa9f5", r: 5, dist: 70, speed: 0.01, angle: 0, info: "Masa: 5.97e24 kg\nDi√°metro: 12742 km\nGravedad: 9.8 m/s¬≤\nTemp: 15¬∞C" },
    { name: "Marte", color: "#b22222", r: 4, dist: 90, speed: 0.008, angle: 0, info: "Masa: 6.42e23 kg\nDi√°metro: 6779 km\nGravedad: 3.71 m/s¬≤\nTemp: -65¬∞C" },
    { name: "J√∫piter", color: "#d2b48c", r: 8, dist: 120, speed: 0.005, angle: 0, info: "Masa: 1.9e27 kg\nDi√°metro: 139822 km\nGravedad: 24.8 m/s¬≤\nTemp: -110¬∞C" },
    { name: "Saturno", color: "#f5deb3", r: 7, dist: 150, speed: 0.003, angle: 0, ring: true, info: "Masa: 5.68e26 kg\nDi√°metro: 116464 km\nGravedad: 10.44 m/s¬≤\nTemp: -140¬∞C" },
    { name: "Urano", color: "#afeeee", r: 6, dist: 180, speed: 0.002, angle: 0, ring: true, info: "Masa: 8.68e25 kg\nDi√°metro: 50724 km\nGravedad: 8.87 m/s¬≤\nTemp: -195¬∞C" },
    { name: "Neptuno", color: "#4169e1", r: 6, dist: 210, speed: 0.001, angle: 0, info: "Masa: 1.02e26 kg\nDi√°metro: 49244 km\nGravedad: 11.15 m/s¬≤\nTemp: -200¬∞C" },
  ];

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    const cx = canvas.width / 2 + offsetX;
    const cy = canvas.height / 2 + offsetY;

    // Sol
    ctx.beginPath();
    ctx.arc(cx, cy, 10 * scale, 0, 2 * Math.PI);
    ctx.fillStyle = "yellow";
    ctx.fill();

    for (const p of planets) {
      const orbitX = cx + Math.cos(p.angle) * p.dist * scale;
      const orbitY = cy + Math.sin(p.angle) * p.dist * scale;

      if (showOrbits) {
        ctx.beginPath();
        ctx.setLineDash([2, 3]);
        ctx.strokeStyle = "#555";
        ctx.arc(cx, cy, p.dist * scale, 0, 2 * Math.PI);
        ctx.stroke();
        ctx.setLineDash([]);
      }

      if (p.ring) {
        ctx.beginPath();
        ctx.ellipse(orbitX, orbitY, p.r * scale * 2, p.r * scale * 0.5, 0, 0, 2 * Math.PI);
        ctx.strokeStyle = p.name === "Saturno" ? "#f5deb3" : "#aaa";
        ctx.lineWidth = 1;
        ctx.stroke();
      }

      ctx.beginPath();
      ctx.arc(orbitX, orbitY, p.r * scale, 0, 2 * Math.PI);
      ctx.fillStyle = p.color;
      ctx.fill();

      if (showLabels) {
        let label = document.getElementById("chatgpt-label-" + p.name);
        if (!label) {
          label = document.createElement("div");
          label.id = "chatgpt-label-" + p.name;
          label.className = "chatgpt-planet-label";
          label.textContent = p.name;
          wrapper.appendChild(label);
        }
        label.style.left = orbitX + 5 + "px";
        label.style.top = orbitY + 5 + "px";
      }

      p.screenX = orbitX;
      p.screenY = orbitY;
    }
  }

  canvas.addEventListener("mousemove", (e) => {
    const rect = canvas.getBoundingClientRect();
    const mx = e.clientX - rect.left;
    const my = e.clientY - rect.top;
    let found = false;
    for (const p of planets) {
      const dx = mx - p.screenX;
      const dy = my - p.screenY;
      if (Math.sqrt(dx * dx + dy * dy) < p.r * scale + 4) {
        modal.style.left = e.clientX + 10 + "px";
        modal.style.top = e.clientY + 10 + "px";
        modal.style.display = "block";
        modal.textContent = `${p.name}\n${p.info}`;
        found = true;
        break;
      }
    }
    if (!found) modal.style.display = "none";
  });

  canvas.addEventListener("mousedown", (e) => {
    dragging = true;
    dragStart.x = e.clientX;
    dragStart.y = e.clientY;
  });
  window.addEventListener("mouseup", () => dragging = false);
  window.addEventListener("mousemove", (e) => {
    if (dragging) {
      offsetX += (e.clientX - dragStart.x);
      offsetY += (e.clientY - dragStart.y);
      dragStart.x = e.clientX;
      dragStart.y = e.clientY;
    }
  });
  canvas.addEventListener("wheel", (e) => {
    e.preventDefault();
    scale += e.deltaY > 0 ? -0.05 : 0.05;
    scale = Math.max(0.1, Math.min(5, scale));
  });

  function animate() {
    if (!paused) {
      for (const p of planets) p.angle += p.speed * speedMultiplier;
    }
    draw();
    requestAnimationFrame(animate);
  }

  window.addEventListener("resize", () => {
    canvas.width = wrapper.clientWidth;
    canvas.height = wrapper.clientHeight;
  });

  animate();
})();
</script>
</body>
</html>